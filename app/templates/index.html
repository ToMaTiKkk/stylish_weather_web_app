<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Inter –∏–∑ Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
     
    <title>{{ app_title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/style.css') }}">
    <!-- –ò–∫–æ–Ω–∫–∞ –¥–ª—è –≤–∫–ª–∞–¥–∫–∏ (–ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ —ç–º–æ–¥–∑–∏, –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ SVG) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üå¨Ô∏è</text></svg>">
          
    <script>
        const WMO_CODES_FROM_SERVER = {{ wmo_codes | tojson }}; // –î–æ–±–∞–≤–∏–ª | safe –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π
    </script>
</head>
<body>
    <header class="app-header">
        <div class="container">
            <h1>{{ app_title }}</h1>
        </div>
    </header>

    <main class="container">
        <section id="last-city-suggestion-wrapper" style="margin-bottom: 1.5rem;"> <!-- –î–æ–±–∞–≤–∏–º –æ–±–µ—Ä—Ç–∫—É –¥–ª—è –æ—Ç—Å—Ç—É–ø–∞ -->
            <div id="last-city-suggestion" class="last-city-prompt" style="display: none;">
                <p>
                    –ù–µ–¥–∞–≤–Ω–æ –≤—ã –∏—Å–∫–∞–ª–∏: <strong id="last-city-name"></strong>.
                    <button id="show-last-city-weather" class="button-secondary">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–≥–æ–¥—É</button>
                </p>
            </div>
        </section>
        
        <section id="city-input-section">
            <h2>–£–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É</h2>
            <form id="weatherForm">
                <div class="input-wrapper"> <!-- –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –∏–Ω–ø—É—Ç–∞ –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ -->
                    <input type="text" id="city" name="city" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞..." aria-label="–ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞" autocomplete="off">
                    <div id="autocomplete-results" class="autocomplete-suggestions"></div> <!-- —Å—é–¥–∞ –±—É–¥—É—Ç –ø–∞–¥–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ -->
                </div>
                <button type="submit" class="button-primary">
                    <span class="button-text">–ò—Å–∫–∞—Ç—å</span>
                </button>
            </form>
        </section>

        <section id="weather-results-section" aria-live="polite">
            <!-- –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ–≥–æ–¥–∞ -->
            <div id="weather-cards-placeholder"> 
                <!-- c—é–¥–∞ –±—É–¥–µ–º –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–≥–æ–¥—ã -->
                <p class="placeholder-text">–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ–≥–Ω–æ–∑.</p> 
            </div>
    
            <div id="weather-map-container" style="display: none;">
                <h3>–ö–∞—Ä—Ç–∞ –≥–æ—Ä–æ–¥–∞</h3>
                <div id="map"></div>
            </div>
        </section>
    </main>

    <footer class="app-footer">
        <div class="container">
            <p>¬© <span id="currentYear"></span> –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ ToMaTiK. <a href="https://github.com/ToMaTiKkk/stylish_weather_web_app" target="_blank" rel="noopener noreferrer">GitHub</a></p>
        </div>
    </footer>
    
    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
     
    <script src="{{ url_for('static', path='/js/script.js') }}"></script>
</body>
</html>